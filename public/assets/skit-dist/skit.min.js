window.Confirm=function(t){if(t.ok){let n="";t.message&&(n='<div class="ConfirmMessage">'+t.message+"</div>");let o='\n\t\t\t<div class="Confirm NoSelect">\n\t\t\t\t<div class="ConfirmTitle">'+t.title+"</div>\n\t\t\t\t"+n+'\n\t\t\t</div>\n\t\t\t<div class="ConfirmActions">\n\t\t\t\t<button id="Confirm-ok" class="'+t.okclass+'">'+t.ok+"</button>\n\t\t\t</div>";var e;if(!1!==t.no&&(o='\n\t\t\t\t<div class="Confirm NoSelect">\n\t\t\t\t\t<div class="ConfirmTitle">'+t.title+"</div>\n\t\t\t\t\t"+n+'\n\t\t\t\t</div>\n\t\t\t\t<div class="ConfirmActions">\n\t\t\t\t\t<button id="Confirm-ok" class="'+t.okclass+'">'+t.ok+'</button> <button id="Confirm-no" class="'+t.noclass+'">'+t.no+"</button> \n\t\t\t\t</div>"),document.getElementById("Confirm"))(e=document.getElementById("Confirm")).innerHTML=o;else(e=document.createElement("dialog")).setAttribute("id","Confirm"),e.innerHTML=o,document.body.appendChild(e);document.getElementById("Confirm").showModal(),document.body.classList.add("NoScroll"),document.getElementById("Confirm-ok")&&document.getElementById("Confirm-ok").focus(),e.addEventListener("click",(n=>{e===n.target&&(document.getElementById("Confirm").close(),document.body.classList.remove("NoScroll"),t.cancelFn&&t.cancelFn())})),document.getElementById("Confirm-ok").addEventListener("click",(e=>{document.getElementById("Confirm").close(),document.body.classList.remove("NoScroll"),t.okFn&&t.okFn()})),document.getElementById("Confirm-ok").addEventListener("keyup",(e=>{13==e.keyCode&&(document.getElementById("Confirm").close(),document.body.classList.remove("NoScroll"),t.okFn&&t.okFn())})),document.getElementById("Confirm-no").addEventListener("click",(e=>{document.getElementById("Confirm").close(),document.body.classList.remove("NoScroll"),t.noFn&&t.noFn()})),document.getElementById("Confirm-no").addEventListener("keyup",(e=>{13==e.keyCode&&(document.getElementById("Confirm").close(),document.body.classList.remove("NoScroll"),t.noFn())}))}},window.Copy={id:t=>{if(document.getElementById(t)){var e=document.getElementById(t),n=document.createElement("textarea");n.textContent=e.value??e.textContent.replace(/\s+$/,"").replace(/^\s+/,""),n.focus(),n.classList.add("hidden"),n.style.width="1px",n.style.height="1px",document.body.appendChild(n),n.select(),document.execCommand("copy"),window.setTimeout((()=>{n.parentNode.removeChild(n)}),10)}},string:t=>{var e=document.createElement("textarea");e.textContent=t,e.focus(),e.classList.add("hidden"),e.style.width="1px",e.style.height="1px",document.body.appendChild(e),e.select(),document.execCommand("copy"),window.setTimeout((()=>{e.parentNode.removeChild(e)}),10)}};
window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){Darkmode.load()})),window.Darkmode={options:["1","2","3"],set:e=>{e?(document.body.classList.add("DarkMode"),document.body.classList.remove("LightMode")):(document.body.classList.remove("DarkMode"),document.body.classList.add("LightMode")),Darkmode._listen(localStorage.getItem("skitConfigTheme"),e)},_listen:(e,o)=>{document.querySelectorAll("[data-skit-listen=darkmode]").forEach((t=>{"SELECT"==t.nodeName&&(t.value=e),"INPUT"==t.nodeName&&"checkbox"==t.type&&(t.checked=o)}))},load:()=>{localStorage.getItem("skitConfigTheme")?Darkmode.config(localStorage.getItem("skitConfigTheme")):Darkmode.config("3")},config:e=>{var o=!0;Darkmode.options.includes(e)&&(localStorage.setItem("skitConfigTheme",e),"1"==e&&(o=!0,localStorage.setItem("skitDarkMode","true")),"2"==e&&(o=!1,localStorage.setItem("skitDarkMode","false")),"3"==e&&(1==window.matchMedia("(prefers-color-scheme: dark)").matches&&(o=!0),1==window.matchMedia("(prefers-color-scheme: light)").matches&&(o=!1),localStorage.setItem("skitDarkMode","system"))),Darkmode.set(o),Darkmode._listen(e,o)}},Darkmode.load();
window.Debounce=("undefined"==typeof debounceInstance&&(window.debounceInstance={}),function(e,n,c){clearTimeout(debounceInstance[c]),debounceInstance[c]=setTimeout(e,n)});
window.Dualrange={unsetDisabled:e=>{if(document.getElementById(e)){var t=document.getElementById(e);t.parentElement.classList.remove("disabled"),t.querySelectorAll("input[type=range]").forEach((e=>{e.removeAttribute("disabled")}))}},setDisabled:e=>{if(document.getElementById(e)){var t=document.getElementById(e);t.parentElement.classList.add("disabled"),t.querySelectorAll("input[type=range]").forEach((e=>{e.setAttribute("disabled","disabled")}))}},toggleDisabled:e=>{document.getElementById(e)&&(document.getElementById(e).parentElement.classList.contains("disabled")?Dualrange.unsetDisabled(e):Dualrange.setDisabled(e))},getValue:e=>{var t=null,l=null;if(document.getElementById(e)){var n=document.getElementById(e).querySelectorAll("input[type=range]"),a=Number(n[0].value),d=Number(n[1].value);if(a==d)return[t=a,l=d];if(a<d)return[t=a,l=d];if(a>d)return[t=d,l=a]}return[t,l]}};

window.LockScreen={mask:'<span class="LockScreenSpinner"></span>Wait a moment',timeout:6e4,lock:e=>{var n;(e&&(e.timeout&&(LockScreen.timeout=e.timeout),e.title&&(LockScreen.mask='<span class="LockScreenSpinner"></span>'+e.title)),document.getElementById("IdLockScreen"))?(n=document.getElementById("IdLockScreen")).innerHTML=LockScreen.mask:((n=document.createElement("dialog")).setAttribute("id","IdLockScreen"),n.innerHTML=LockScreen.mask,document.body.appendChild(n));document.getElementById("IdLockScreen").style="animation-duration: "+LockScreen.timeout+"ms",document.getElementById("IdLockScreen").showModal(),Debounce((()=>{LockScreen.unlock()}),LockScreen.timeout,"IdLockScreen")},unlock:()=>{document.getElementById("IdLockScreen").close()}};
class Modal{constructor(t,e){this.currentX=0,this.currentY=0,this.lastX=0,this.lastY=0,this.mouseX=0,this.mouseY=0,this._centered=!1,this.calls=[],this.data=new Object,this.options={id:t,canMove:!0,size:"free",title:"MODAL",html:""},e&&(e.title&&(this.options.title=e.title.substring(0,50)),"boolean"==typeof e.canMove&&(this.options.canMove=e.canMove)),this._canMove=!1,document.getElementById(t)?this.comp=document.getElementById(t):(this.comp=document.createElement("dialog"),this.comp.classList.add("Modal"),this.comp.setAttribute("id",t),document.body.appendChild(this.comp),this.options.html='\n\t\t\t\t<div class="TopBar">\n\t\t\t\t\t<div class="Move">'+this.options.title+'</div>\n\t\t\t\t\t<div class="Close"><button data-skit="close">⨉</button></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="ModalContent">\n\t\t\t\t\t<div class="pd1">\n\t\t\t\t\t\t<p>...<p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>',this.comp.innerHTML=this.options.html),this.move=this.comp.querySelector(".Move"),this.initMove(),this.comp.addEventListener("click",(()=>{this.setFocus()})),this.comp.querySelector('[data-skit="close"]')&&this.comp.querySelector('[data-skit="close"]').addEventListener("click",(t=>{this.close()}))}setData(t){if("object"==typeof t)for(var e in t)this.data[e]=t[e]}unsetData(t){void 0!==this.data[t]&&delete this.data[t]}setCenter(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.documentElement.clientHeight||document.body.clientHeight,s=this.comp.getBoundingClientRect();this.currentX=t/2-s.width/2,this.currentY=e/2-s.height/2,this.lastX=this.currentX,this.lastY=this.currentY,this.comp.style.left=this.currentX+"px",this.comp.style.top=this.currentY+"px",this._centered=!0}initMove(){if(!this.options.canMove)return this.move.style.cursor="no-drop",!1;document.addEventListener("mousedown",(t=>{this.move&&t.target==this.move&&(this._setZIndex(this._getZIndex()),this._canMove=!0,this.mouseX=t.x,this.mouseY=t.y,this.currentX=this.lastX,this.currentY=this.lastY,this.currentX=Number(this.comp.style.left.replace("px","")),this.currentY=Number(this.comp.style.top.replace("px","")),document.addEventListener("mousemove",this.handleMove))})),document.addEventListener("touchstart",(t=>{this.move&&t.target==this.move&&(this._setZIndex(this._getZIndex()),this._canMove=!0,this.mouseX=t.touches[0].pageX,this.mouseY=t.touches[0].pageY,this.currentX=this.lastX,this.currentY=this.lastY,this.currentX=Number(this.comp.style.left.replace("px","")),this.currentY=Number(this.comp.style.top.replace("px","")),document.addEventListener("touchmove",this.handleMove))})),document.addEventListener("mouseup",(t=>{this._canMove=!1,document.removeEventListener("mousemove",this.handleMove)})),document.addEventListener("touchend",(t=>{this._canMove=!1,document.removeEventListener("touchmove",this.handleMove)}))}handleMove=t=>{if(!this.options.canMove)return!1;!0===this._canMove&&window.requestAnimationFrame((()=>{var e=t.x??t.touches[0].pageX,s=t.y??t.touches[0].pageY;this.lastX=(this.currentX+e-this.mouseX).toFixed(0),this.lastY=(this.currentY+s-this.mouseY).toFixed(0),this.comp.style.left=this.lastX+"px",this.comp.style.top=this.lastY+"px"}))};_getZIndex(){var t=document.querySelectorAll("dialog"),e=0;return t.forEach((t=>{if(this.comp!=t){var s=Number(window.document.defaultView.getComputedStyle(t).getPropertyValue("z-index"));s>=e&&(e=s)}})),e<=99&&(e=99),++e}_setZIndex(t){this.comp.style.zIndex=t}setTitle(t){this.options.title=t.substring(0,50),this.comp.querySelector(".Move").textContent=this.options.title}setContent(t){this.comp.querySelector(".ModalContent").innerHTML=t}setFocus(){this._setZIndex(this._getZIndex())}open(){Debounce((()=>{this.comp.show(),!1===this._centered&&this.setCenter(),this._call(),this._setZIndex(this._getZIndex())}),50,"modal")}close(){this.comp.close(),this.currentX=0,this.currentY=0,this.comp.style.transform=null,this.comp.style.zIndex=null,this._centered=!1}_call(){this.calls.forEach((t=>{t()}))}done(t){"function"==typeof t&&this.calls.push(t)}}
class Superselect{constructor(e,t){this.id=e,this.lastEvent="none",this.name="",this.none="NONE",this.label="NONE",this.searchPlaceholder="search",this.list=[],this.value="",this.active=null,t&&t.list&&(t.name&&(this.name=t.name),t.none&&(this.none=t.none),t.list&&(this.list=t.list)),this._computedList=this.list,document.getElementById(e)&&(this.comp=document.getElementById(e),this.comp.setAttribute("tabindex","0"),this._createLabel(),this._createComp(),this.labelComp=this.comp.querySelector(".SuperSelectLabel"),this.labelComp.textContent=this.none,this.sComp=this.comp.querySelector(".SuperSelectComp"),this._createSearch(),this._createList(),this.searchComp=this.sComp.querySelector("input"),this.searchComp.setAttribute("placeholder",this.searchPlaceholder),this.listComp=this.comp.querySelector(".SuperSelectList"),this.labelComp.addEventListener("click",(e=>{"click"==this.lastEvent&&(this.comp.blur(),this.lastEvent="blur"),this.lastEvent="click",this.active.scrollIntoView()})),this.comp.addEventListener("focus",(e=>{this.lastEvent="focus"})),this.comp.addEventListener("focusin",(e=>{this.lastEvent="focusin"})),this.listComp.addEventListener("input",(e=>{this.label=e.target.parentElement.querySelector("label").textContent,this.labelComp.textContent=this.label,this.value=e.target.value,this.active=e.target})),this.searchComp.addEventListener("keyup",(e=>{Debounce((()=>{this._filter(e.target.value)}),500,"superselect"+this.id)})),this._render(),this._load())}_load(){this.listComp.querySelectorAll("input").forEach((e=>{!0===e.checked&&(this.value=e.value,this.active=e,this.label=e.parentElement.querySelector("label").textContent)})),this.labelComp.textContent=this.label}_filter(e){if(""==e)this._computedList=this.list;else{var t=[],i=new RegExp(e,"i");this.list.forEach(((e,s)=>{if(e.group&&e.list){var l=[];e.list.forEach(((e,t)=>{i.test(e.label)&&l.push(e)})),l.length>0&&t.push({group:e.group,list:l})}else i.test(e.label)&&t.push(e)})),this._computedList=t}this._render()}_render(){var e="";this._computedList.forEach(((t,i)=>{if(t.group&&t.list)e+='<div class="SuperSelectGroup">\n\t\t\t\t\t<div class="SuperSelectGroupTitle">'+t.group+"</div>",t.list.forEach(((i,s)=>{var l=this._randId(),a="";String(this.value)===String(i.value)&&(a=' checked="checked"');var r="";(i.disabled||t.disabled)&&(r=' disabled="disabled"'),e+='<div class="Option"><input type="radio"'+a+r+' name="'+this.name+'" value="'+i.value+'" id="'+l+'" /><label for="'+l+'">'+i.label+"</label></div>"})),e+="</div>";else{var s=this._randId(),l="";String(this.value)===String(t.value)&&(l=' checked="checked"');var a="";t.disabled&&(a=' disabled="disabled"'),e+='<div class="Option">\n\t\t\t\t\t<input type="radio"'+l+a+'  name="'+this.name+'" value="'+t.value+'" id="'+s+'" /><label for="'+s+'">'+t.label+"</label>\n\t\t\t\t</div>"}})),this.listComp.innerHTML=e}_createLabel(){if(!this.comp.querySelector(".SuperSelectLabel")){var e=document.createElement("div");e.setAttribute("class","SuperSelectLabel"),e.textContent=this.label,this.comp.appendChild(e)}}_createComp(){if(!this.comp.querySelector(".SuperSelectComp")){var e=document.createElement("div");e.setAttribute("class","SuperSelectComp"),this.comp.appendChild(e)}}_createSearch(){if(!this.sComp.querySelector(".SuperSelectSearch")){var e=document.createElement("div");if(e.setAttribute("class","SuperSelectSearch"),!this.sComp.querySelector("input")){var t=document.createElement("input");t.setAttribute("type","search"),t.setAttribute("placeholder",this.searchPlaceholder),e.appendChild(t)}this.sComp.appendChild(e)}}_createList(){if(!this.sComp.querySelector(".SuperSelectList")){var e=document.createElement("div");e.setAttribute("class","SuperSelectList");var t=this._randId();e.innerHTML='<div class="Option"><input type="radio" name="'+this.name+'" value="" id="'+t+'" /><label for="'+t+'">'+this.none+"</label></div>",this.sComp.appendChild(e)}}_randId(){return"opt"+(1e9*Math.random()).toFixed(0)}addValue(e,t){this.list.push({value:e,label:t}),this._render()}getValue(){return this.value}setValue(e){this.listComp.querySelectorAll("input").forEach((t=>{String(t.value)===String(e)?(t.checked=!0,this.value=t.value,this.active=t):t.checked=!1})),this._load()}setValues(e){}getValues(){return this.value}focus(){this.comp.focus(),this.active.scrollIntoView()}reset(){}}
class Tabs{constructor(t,e,a){this.id=t,this.area=e,this.conf=a;for(let t in this.conf)this.conf[t].active="active";this.vue=new Vue({el:"#"+this.id,template:'\n\t\t\t\t<div class="TabsBtns">\n\t\t\t\t\t<div v-for="(t, i) in tabs" :class="t.active"><button type="button" @click="setTab(i)" v-html="t.tab"></button></div>\n\t\t\t\t</div>',data:{tabs:this.conf,component:this},methods:{setTab(t){for(let e in this.tabs)e==t?(this.tabs[e].active="active",this.component.setTab(this.tabs[e].for),localStorage.setItem("tab-"+this.component.id,t)):this.tabs[e].active=""}},created:function(){let t=0;localStorage.getItem("tab-"+this.component.id)&&(t=localStorage.getItem("tab-"+this.component.id)),this.setTab(t)}})}setTab(t){let e=document.getElementById(this.area);if(e){let a=e.querySelectorAll("div[data-tab]");for(let e of a)t==e.getAttribute("data-tab")?(e.classList.remove("TabsInactive"),e.classList.add("TabsActive")):(e.classList.add("TabsInactive"),e.classList.remove("TabsActive"))}}}
window.Tooltip={handle:t=>{if(window.lastTooltip||(window.lastTooltip=""),window.toolTips||(window.toolTips={}),t.target&&t.target!==document&&t.target!==window&&"string"==typeof t.target.getAttribute("data-title")&&"string"!=typeof t.target.getAttribute("data-title-for")){var e="tip"+(1e6*Math.random()).toFixed(0),i=document.createElement("div");i.classList.add("Tooltip"),i.setAttribute("id",e),i.textContent=t.target.getAttribute("data-title"),t.target.setAttribute("data-title-for",e),t.target.parentElement.appendChild(i)}if(t.target&&t.target!==document&&t.target!==window&&"string"==typeof t.target.getAttribute("data-title-for")){var o=t.target.getAttribute("data-title-for"),l=document.getElementById(o),a=t.target.getBoundingClientRect(),d=t.target.getAttribute("data-title-position")??"top",r=(a.top-l.clientHeight-15).toFixed(0),n=(a.left+a.width/2-l.clientWidth/2).toFixed(0);if(r<5||"bottom"==d)r=(a.top+a.height+5).toFixed(0),d="Bottom";else if("right"==d)r=(a.top+a.height/2-15).toFixed(0),n=(a.left+a.width+15).toFixed(0),d="Right";else if("left"==d)r=(a.top+a.height/2-15).toFixed(0),n=(a.left-2*a.width-15).toFixed(0),d="Left";else{r=(a.top-l.clientHeight-15).toFixed(0);d="Top"}l.classList.remove("TooltipTop"),l.classList.remove("TooltipLeft"),l.classList.remove("TooltipRight"),l.classList.remove("TooltipBottom"),l.classList.add("Tooltip"+d),null==l.getAttribute("data-apply")&&(toolTips[o]=o,lastTooltip=o,n<5&&(n=5),l.style.top=r+"px",l.style.left=n+"px",l.setAttribute("data-apply","true"),l.classList.add("TooltipActive"))}else lastTooltip="";for(var s in toolTips)if(document.getElementById(s)&&s!=lastTooltip){var p=document.getElementById(s);p.removeAttribute("data-apply"),p.classList.remove("TooltipActive"),delete toolTips[s]}},update:(t,e)=>{if(t&&t.getAttribute("data-title-for")&&document.getElementById(t.getAttribute("data-title-for"))){var i=document.getElementById(t.getAttribute("data-title-for"));i.textContent=e,window.setTimeout((()=>{i.textContent=t.getAttribute("data-title")}),1e3)}}},document.addEventListener("mousemove",(t=>{Tooltip.handle(t)})),window.addEventListener("scroll",(t=>{Tooltip.handle(t)}));
window.Warning=t=>{var e=["danger","pri","sec","dark","light"],n={1:"WarningLeftBottom",2:"WarningCenterBottom",3:"WarningRightBottom",4:"WarningLeftCenter",6:"WarningRightCenter",7:"WarningLeftTop",8:"WarningCenterTop",9:"WarningRightTop"};if(t.title&&""!=t.title){var i,r=String(t.title),a=String(t.message??""),d=String(t.color??""),l=t.timeout??8e3,o=encodeURIComponent(String(t.id??"warning-id-1")),s=t.position??8;if(e.includes(d)){var g=e[e.indexOf(d)];d="Warning"+(g=g.charAt(0).toUpperCase()+g.slice(1))}else d="";s=n[s]?n[s]:n[8];var v='<div style="animation-duration: '+l+'ms" class="Warning '+d+'" data-id="'+o+'">\n\t\t\t\t<div>\n\t\t\t\t\t<div class="WarningTitle">'+r+"</div>\n\t\t\t\t\t<div>"+a+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div><button class="WarningClose">⨉</button></div>\n\t\t\t</div>';document.getElementById("Warning")?(i=document.getElementById("Warning")).setAttribute("class",s):((i=document.createElement("div")).setAttribute("id","Warning"),i.setAttribute("class",s),document.body.appendChild(i),i.addEventListener("click",(t=>{var e=t.target;if("I"==t.target.nodeName&&(e=e.parentElement),"BUTTON"==e.nodeName){var n=e.parentElement.parentElement;n.parentElement.removeChild(n)}}),!0)),i.querySelectorAll(".WarningCanvas").forEach((function(t){""==t.innerHTML&&t.parentElement.removeChild(t)}));var c=i.querySelector('div[data-id="'+o+'"]'),m=i.querySelectorAll("div[data-id]");if(c)c&&(c.setAttribute("class","Warning "+d),c.innerHTML='<div>\n\t\t\t\t\t<div class="WarningTitle">'+r+"</div>\n\t\t\t\t\t<div>"+a+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div><button class="WarningClose">⨉</button></div>');else if(m.length<5)(c=document.createElement("div")).setAttribute("class","WarningCanvas"),c.innerHTML=v,i.appendChild(c),Debounce((()=>{if(void 0!==c&&void 0!==c.parentElement)try{c.parentElement.removeChild(c)}catch{}}),l,o)}};