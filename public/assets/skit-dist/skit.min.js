window.Confirm=function(t){if(t.ok){let n="";t.message&&(n='<div class="Confirm-message">'+t.message+"</div>");let o='\n\t\t\t<div class="Confirm no-select">\n\t\t\t\t<div class="Confirm-title">'+t.title+"</div>\n\t\t\t\t"+n+'\n\t\t\t</div>\n\t\t\t<div class="Confirm-actions">\n\t\t\t\t<button id="Confirm-ok" class="'+t.okclass+'">'+t.ok+"</button>\n\t\t\t</div>";var e;if(!1!==t.no&&(o='\n\t\t\t\t<div class="Confirm no-select">\n\t\t\t\t\t<div class="Confirm-title">'+t.title+"</div>\n\t\t\t\t\t"+n+'\n\t\t\t\t</div>\n\t\t\t\t<div class="Confirm-actions">\n\t\t\t\t\t<button id="Confirm-ok" class="'+t.okclass+'">'+t.ok+'</button> <button id="Confirm-no" class="'+t.noclass+'">'+t.no+"</button> \n\t\t\t\t</div>"),document.getElementById("Confirm"))(e=document.getElementById("Confirm")).innerHTML=o;else(e=document.createElement("dialog")).setAttribute("id","Confirm"),e.innerHTML=o,document.body.appendChild(e);document.getElementById("Confirm").showModal(),document.body.classList.add("No-scroll"),document.getElementById("Confirm-ok")&&document.getElementById("Confirm-ok").focus(),e.addEventListener("click",(n=>{e===n.target&&(document.getElementById("Confirm").close(),document.body.classList.remove("No-scroll"),t.cancelFn&&t.cancelFn())})),document.getElementById("Confirm-ok").addEventListener("click",(e=>{document.getElementById("Confirm").close(),document.body.classList.remove("No-scroll"),t.okFn&&t.okFn()})),document.getElementById("Confirm-ok").addEventListener("keyup",(e=>{13==e.keyCode&&(document.getElementById("Confirm").close(),document.body.classList.remove("No-scroll"),t.okFn&&t.okFn())})),document.getElementById("Confirm-no").addEventListener("click",(e=>{document.getElementById("Confirm").close(),document.body.classList.remove("No-scroll"),t.noFn&&t.noFn()})),document.getElementById("Confirm-no").addEventListener("keyup",(e=>{13==e.keyCode&&(document.getElementById("Confirm").close(),document.body.classList.remove("No-scroll"),t.noFn())}))}},window.Copy={id:t=>{if(document.getElementById(t)){var e=document.getElementById(t),n=document.createElement("textarea");n.textContent=e.value??e.textContent.replace(/\s+$/,"").replace(/^\s+/,""),n.focus(),n.classList.add("hidden"),n.style.width="1px",n.style.height="1px",document.body.appendChild(n),n.select(),document.execCommand("copy"),window.setTimeout((()=>{n.parentNode.removeChild(n)}),10)}},string:t=>{var e=document.createElement("textarea");e.textContent=t,e.focus(),e.classList.add("hidden"),e.style.width="1px",e.style.height="1px",document.body.appendChild(e),e.select(),document.execCommand("copy"),window.setTimeout((()=>{e.parentNode.removeChild(e)}),10)}};
window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){Darkmode.load()})),window.Darkmode={options:["1","2","3"],set:e=>{e?(document.body.classList.add("DarkMode"),document.body.classList.remove("LightMode")):(document.body.classList.remove("DarkMode"),document.body.classList.add("LightMode")),Darkmode._listen(localStorage.getItem("skitConfigTheme"),e)},_listen:(e,o)=>{document.querySelectorAll("[data-skit-listen=darkmode]").forEach((t=>{"SELECT"==t.nodeName&&(t.value=e),"INPUT"==t.nodeName&&"checkbox"==t.type&&(t.checked=o)}))},load:()=>{localStorage.getItem("skitConfigTheme")?Darkmode.config(localStorage.getItem("skitConfigTheme")):Darkmode.config("3")},config:e=>{var o=!0;Darkmode.options.includes(e)&&(localStorage.setItem("skitConfigTheme",e),"1"==e&&(o=!0,localStorage.setItem("skitDarkMode","true")),"2"==e&&(o=!1,localStorage.setItem("skitDarkMode","false")),"3"==e&&(1==window.matchMedia("(prefers-color-scheme: dark)").matches&&(o=!0),1==window.matchMedia("(prefers-color-scheme: light)").matches&&(o=!1),localStorage.setItem("skitDarkMode","system"))),Darkmode.set(o),Darkmode._listen(e,o)}},Darkmode.load();
window.Debounce=("undefined"==typeof debounceInstance&&(window.debounceInstance={}),function(e,n,c){clearTimeout(debounceInstance[c]),debounceInstance[c]=setTimeout(e,n)});
window.Dualrange={unsetDisabled:e=>{if(document.getElementById(e)){var t=document.getElementById(e);t.parentElement.classList.remove("disabled"),t.querySelectorAll("input[type=range]").forEach((e=>{e.removeAttribute("disabled")}))}},setDisabled:e=>{if(document.getElementById(e)){var t=document.getElementById(e);t.parentElement.classList.add("disabled"),t.querySelectorAll("input[type=range]").forEach((e=>{e.setAttribute("disabled","disabled")}))}},toggleDisabled:e=>{document.getElementById(e)&&(document.getElementById(e).parentElement.classList.contains("disabled")?Dualrange.unsetDisabled(e):Dualrange.setDisabled(e))},getValue:e=>{var t=null,l=null;if(document.getElementById(e)){var n=document.getElementById(e).querySelectorAll("input[type=range]"),a=Number(n[0].value),d=Number(n[1].value);if(a==d)return[t=a,l=d];if(a<d)return[t=a,l=d];if(a>d)return[t=d,l=a]}return[t,l]}};

class Modal{constructor(t){this.currentX=0,this.currentY=0,this.lastX=0,this.lastY=0,this.mouseX=0,this.mouseY=0,this.calls=[],this.data=new Object,this.canMove=!1,this.comp=document.getElementById(t),this.move=this.comp.querySelector(".Move"),this.initMove(),this.comp.addEventListener("click",(()=>{this.setFocus()}))}setData(t){if("object"==typeof t)for(var e in t)this.data[e]=t[e]}unsetData(t){void 0!==this.data[t]&&delete this.data[t]}setCenter(){var t=document.documentElement.clientWidth||document.body.clientWidth,e=document.documentElement.clientHeight||document.body.clientHeight,s=this.comp.getBoundingClientRect();this.currentX=t/2-s.width/2,this.currentY=e/2-s.height/2,this.lastX=this.currentX,this.lastY=this.currentY,this.comp.style.left=this.currentX+"px",this.comp.style.top=this.currentY+"px"}initMove(){document.addEventListener("mousedown",(t=>{t.target==this.move&&(this._setZIndex(this._getZIndex()),this.canMove=!0,this.mouseX=t.x,this.mouseY=t.y,this.currentX=this.lastX,this.currentY=this.lastY,this.currentX=Number(this.comp.style.left.replace("px","")),this.currentY=Number(this.comp.style.top.replace("px","")),document.addEventListener("mousemove",this.handleMove))})),document.addEventListener("touchstart",(t=>{t.target==this.move&&(this._setZIndex(this._getZIndex()),this.canMove=!0,this.mouseX=t.touches[0].pageX,this.mouseY=t.touches[0].pageY,this.currentX=this.lastX,this.currentY=this.lastY,this.currentX=Number(this.comp.style.left.replace("px","")),this.currentY=Number(this.comp.style.top.replace("px","")),document.addEventListener("touchmove",this.handleMove))})),document.addEventListener("mouseup",(t=>{this.canMove=!1,document.removeEventListener("mousemove",this.handleMove)})),document.addEventListener("touchend",(t=>{this.canMove=!1,document.removeEventListener("touchmove",this.handleMove)}))}handleMove=t=>{!0===this.canMove&&window.requestAnimationFrame((()=>{var e=t.x??t.touches[0].pageX,s=t.y??t.touches[0].pageY;this.lastX=(this.currentX+e-this.mouseX).toFixed(0),this.lastY=(this.currentY+s-this.mouseY).toFixed(0),this.comp.style.left=this.lastX+"px",this.comp.style.top=this.lastY+"px"}))};_getZIndex(){var t=document.querySelectorAll("dialog"),e=0;return t.forEach((t=>{if(this.comp!=t){var s=Number(window.document.defaultView.getComputedStyle(t).getPropertyValue("z-index"));s>=e&&(e=s)}})),e<=99&&(e=99),++e}_setZIndex(t){this.comp.style.zIndex=t}setTitle(t){this.title=t.substring(0,50),this.comp.querySelector(".Move").textContent=this.title}setContent(t){this.comp.querySelector(".ModalContent").innerHTML=t}setFocus(){this._setZIndex(this._getZIndex())}open(){Debounce((()=>{this.comp.show(),this.setCenter(),this._call(),this._setZIndex(this._getZIndex())}),50,"modal")}close(){this.comp.close(),this.currentX=0,this.currentY=0,this.comp.style.transform=null,this.comp.style.zIndex=null}_call(){this.calls.forEach((t=>{t()}))}done(t){"function"==typeof t&&this.calls.push(t)}}
class Tabs{constructor(t,e,a){this.id=t,this.area=e,this.conf=a;for(let t in this.conf)this.conf[t].active="active";this.vue=new Vue({el:"#"+this.id,template:'\n\t\t\t\t<div class="Tabs-btns">\n\t\t\t\t\t<div v-for="(t, i) in tabs" :class="t.active"><button type="button" @click="setTab(i)" v-html="t.tab"></button></div>\n\t\t\t\t</div>',data:{tabs:this.conf,component:this},methods:{setTab(t){for(let e in this.tabs)e==t?(this.tabs[e].active="active",this.component.setTab(this.tabs[e].for),localStorage.setItem("tab-"+this.component.id,t)):this.tabs[e].active=""}},created:function(){let t=0;localStorage.getItem("tab-"+this.component.id)&&(t=localStorage.getItem("tab-"+this.component.id)),this.setTab(t)}})}setTab(t){let e=document.getElementById(this.area);if(e){let a=e.querySelectorAll("div[data-tab]");for(let e of a)t==e.getAttribute("data-tab")?(e.classList.remove("inactive"),e.classList.add("active")):(e.classList.add("inactive"),e.classList.remove("active"))}}}
window.Tooltip={handle:t=>{if(window.lastTooltip||(window.lastTooltip=""),window.toolTips||(window.toolTips={}),t.target&&t.target!==document&&t.target!==window&&"string"==typeof t.target.getAttribute("data-title")&&"string"!=typeof t.target.getAttribute("data-title-for")){var e="tip"+(1e6*Math.random()).toFixed(0),i=document.createElement("div");i.classList.add("tooltip"),i.setAttribute("id",e),i.textContent=t.target.getAttribute("data-title"),t.target.setAttribute("data-title-for",e),t.target.parentElement.appendChild(i)}if(t.target&&t.target!==document&&t.target!==window&&"string"==typeof t.target.getAttribute("data-title-for")){var o=t.target.getAttribute("data-title-for"),l=document.getElementById(o),a=t.target.getBoundingClientRect(),d=t.target.getAttribute("data-title-position")??"top",r=(a.top-l.clientHeight-15).toFixed(0),n=(a.left+a.width/2-l.clientWidth/2).toFixed(0);if(r<5||"bottom"==d)r=(a.top+a.height+5).toFixed(0),d="bottom";else if("right"==d)r=(a.top+a.height/2-15).toFixed(0),n=(a.left+a.width+15).toFixed(0),d="right";else if("left"==d)r=(a.top+a.height/2-15).toFixed(0),n=(a.left-2*a.width-15).toFixed(0),d="left";else{r=(a.top-l.clientHeight-15).toFixed(0);d="top"}l.classList.remove("tooltip-top"),l.classList.remove("tooltip-left"),l.classList.remove("tooltip-right"),l.classList.remove("tooltip-bottom"),l.classList.add("tooltip-"+d),null==l.getAttribute("data-apply")&&(toolTips[o]=o,lastTooltip=o,n<5&&(n=5),l.style.top=r+"px",l.style.left=n+"px",l.setAttribute("data-apply","true"),l.classList.add("tooltip-active"))}else lastTooltip="";for(var s in toolTips)if(document.getElementById(s)&&s!=lastTooltip){var p=document.getElementById(s);p.removeAttribute("data-apply"),p.classList.remove("tooltip-active"),delete toolTips[s]}},update:(t,e)=>{if(t&&t.getAttribute("data-title-for")&&document.getElementById(t.getAttribute("data-title-for"))){var i=document.getElementById(t.getAttribute("data-title-for"));i.textContent=e,window.setTimeout((()=>{i.textContent=t.getAttribute("data-title")}),1e3)}}},document.addEventListener("mousemove",(t=>{Tooltip.handle(t)})),window.addEventListener("scroll",(t=>{Tooltip.handle(t)}));
window.Warning=t=>{var e=["danger","pri","sec","dark","light"],n={1:"Warning-Left-Bottom",2:"Warning-Center-Bottom",3:"Warning-Right-Bottom",4:"Warning-Left-Center",6:"Warning-Right-Center",7:"Warning-Left-Top",8:"Warning-Center-Top",9:"Warning-Right-Top"};if(t.title&&""!=t.title){var i,r=String(t.title),a=String(t.message??""),d=String(t.color??""),l=t.timeout??8e3,o=encodeURIComponent(String(t.id??"warning-id-1")),s=t.position??8;d=e.includes(d)?"Warning-"+e[e.indexOf(d)]:"",s=n[s]?n[s]:n[8];var v='<div style="animation-duration: '+l+'ms" class="Warning '+d+'" data-id="'+o+'">\n\t\t\t\t<div>\n\t\t\t\t\t<div class="title">'+r+"</div>\n\t\t\t\t\t<div>"+a+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div><button class="Warning-close">⨉</button></div>\n\t\t\t</div>';document.getElementById("Warning")?(i=document.getElementById("Warning")).setAttribute("class",s):((i=document.createElement("div")).setAttribute("id","Warning"),i.setAttribute("class",s),document.body.appendChild(i),i.addEventListener("click",(t=>{var e=t.target;if("I"==t.target.nodeName&&(e=e.parentElement),"BUTTON"==e.nodeName){var n=e.parentElement.parentElement;n.parentElement.removeChild(n)}}),!0)),i.querySelectorAll(".Warning-canvas").forEach((function(t){""==t.innerHTML&&t.parentElement.removeChild(t)}));var g=i.querySelector('div[data-id="'+o+'"]'),c=i.querySelectorAll("div[data-id]");if(g)g&&(g.setAttribute("class","Warning "+d),g.innerHTML='<div>\n\t\t\t\t\t<div class="title">'+r+"</div>\n\t\t\t\t\t<div>"+a+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div><button class="Warning-close">⨉</button></div>');else if(c.length<5)(g=document.createElement("div")).setAttribute("class","Warning-canvas"),g.innerHTML=v,i.appendChild(g),Debounce((()=>{if(void 0!==g&&void 0!==g.parentElement)try{g.parentElement.removeChild(g)}catch{}}),l,o)}};